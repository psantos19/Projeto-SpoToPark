create table utilizador(
	utilizador_id serial,  
	utilizador_name varchar(60) not null, 
	utilizador_password varchar(60) not null,
	utilizador_bdate date not null, 
	utilizador_email varchar(60) not null, 
	utilizador_coordinates varchar(60) not null,
	primary key(utilizador_id)
); 

create table user_car(
	user_car_id serial, 
	user_car_plate varchar(30) not null,
	user_car_year int not null, 
	user_brand varchar(30) not null,
	car_user_id int not null,
	primary key (user_car_id)

); 

create table reserve(
	reserve_id serial, 
	reserve_ask_time timestamp not null, 
	reserve_start_time timestamp not null, 
	reserve_end_time timestamp not null, 
	reserve_car_id int not null, 
	reserve_parking_slot_id int not null, 
	primary key (reserve_id)
); 

create table parking_slot(
	parking_slot_id serial, 
	parking_slot_number int not null, 
	parking_type_id int not null, 
	parking_park_id int not null, 
	primary key (parking_slot_id)
); 

create table parking(
	park_id serial, 
	park_address varchar(60) not null, 
	park_coordinates varchar(60) not null, 
	primary key (park_id)
); 

create table parking_slot_type(
	type_id serial, 
	type_name varchar(60) not null,
	primary key (type_id)
); 

alter table user_car
add constraint user_car_fk_user
foreign key (car_user_id) references utilizador(utilizador_id) 
ON DELETE NO ACTION ON UPDATE NO ACTION;

alter table reserve
add constraint reserve_fk_user_car
foreign key (reserve_car_id) references user_car(user_car_id) 
ON DELETE NO ACTION ON UPDATE NO ACTION;

alter table reserve
add constraint reserve_fk_parking_slot
foreign key (reserve_parking_slot_id) references parking_slot(parking_slot_id) 
ON DELETE NO ACTION ON UPDATE NO ACTION;

alter table parking_slot
add constraint parking_slot_fk_parking_slot_type
foreign key (parking_type_id) references parking_slot_type(type_id) 
ON DELETE NO ACTION ON UPDATE NO ACTION;

alter table parking_slot
add constraint parking_slot_fk_parking
foreign key (parking_park_id) references parking(park_id)